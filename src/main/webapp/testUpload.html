<!DOCTYPE html>
<html>
<head>
<title>uploadFolder.html</title>

<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
<meta http-equiv="description" content="this is my page">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link type="text/css" rel="stylesheet" href="css/progressBar.css" />
<link type="text/css" rel="stylesheet" href="css/inputFile.css" />
<style type="text/css">
input[type="submit"] {
	background-color: #AAAAAA;
	color: white;
}
</style>
<script type="text/javascript" src="js/jquery-1.4.3.js"></script>
<script type="text/javascript" language="Javascript">
	$(function() {
		var interval = setInterval(showProgress, 1000);
		var dataProgress = 0;
		function showProgress() {
			//var arrayObj = getNumb();
			//var received = arrayObj[0];
			//var totalFiles = arrayObj[1];
			//var dataProgress = received/totalFiles;
			var stringProgress = toPercent(dataProgress);
			$('.pb-text').html(stringProgress);
			$('.pb-value').css("width", stringProgress);
			dataProgress += 0.1;
			if (dataProgress >= 1) {
				clearInterval(interval);
			}
		}
	})

	function getNumb() {
		$.ajax({
			type : 'get',
			url : '/WebRestService/services/remotefile/get/192.168.1.3',
			data : {},
			dataType : 'JSON',
			success : function(result) {
				var dataObj = eval("(" + result + ")");
				var arrayObj = new Array(
						[ dataObj.received, dataObj.totalFiles ]);
				return arrayObj;
			}
		});
	}

	function toPercent(data) {
		var strData = parseFloat(data) * 10000;
		strData = Math.round(strData);
		strData /= 100.00;
		var ret = strData.toString() + "%";
		return ret;
	}

	function showTime() {
		var nowTime = new Date().getTime();
		alert(nowTime);
	}
</script>

</head>

<body>
	<h1>uploadFolder</h1>
	<br>
	<form action="services/customers/upload" method="post"
		enctype="multipart/form-data">
		<a href="javascript:;" class="file"> 选择单文件: <input type="file"
			name="fileSingle" value="浏览" /> </a> <input type="submit" value="提交" />
	</form>
	<br></br>
	<form action="services/customers/multipleFiles" method="post"
		enctype="multipart/form-data">
		<a href="javascript:;" class="file"> 选择多文件: <input type="file"
			name="fileMulti" multiple="multiple" /> </a> <input type="submit"
			value="提交" />
	</form>
	<br></br>
	<form action="services/customers/uploadFolder" method="post"
		enctype="multipart/form-data">
		<a href="javascript:;" class="file"> 
		选择文件夹: <input type="file" name="fileFolder" webkitdirectory directory multiple /> 
		</a> <input type="submit" value="提交"  />
	</form>
	<div class="process-bar skin-green">
		<div class="pb-wrapper">
			<div class="pb-highlight"></div>
			<div class="pb-container">
				<div class="pb-text">0%</div>
				<div class="pb-value" style="width:0%"></div>
			</div>
		</div>
	</div>
	<input type="button" value="test" onclick="showTime()" />
</body>
</html>
