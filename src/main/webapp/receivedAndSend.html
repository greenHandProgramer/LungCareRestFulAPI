<!DOCTYPE html>
<html>
<head>
<title>02.html</title>

<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
<meta http-equiv="description" content="this is my page">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<!-- <meta http-equiv="refresh"content="1;url='02.html'"> -->

<link type="text/css" rel="stylesheet" href="css/01.css" />
<script type="text/javascript" src="js/jquery-1.4.3.js"></script>
<script type="text/javascript" language="javascript">
	$(function() {
		//setInterval(refresh, 1000);
		refreshReceive();
		refreshSend();
	});
		function refreshReceive() {
			$.ajax({
				type : 'get',
				url : '/transfer/rest/remotefile/getAllReceiveEntity',
				data : {},
				dataType : 'JSON',
				success : function(result) {
				$('#tb1').empty();
				if(result == "" || result == null){
					alert("there is no data in the table receiveEntity!");
				}
				else{
					var dataObj = eval("(" + result + ")");
					dataObj=dataObj['receiveEntity'];
					$.each(dataObj, function(ii, item) {
						$('#tb1').append(
								'<tr><td>' + item.id + '</td><td>'
										+ item.ip + '</td><td>'
										+ item.port + '</td><td>'
										+ item.received + '</td><td>'
										+ item.failed + '</td><td>' 
										+ item.savedFolder + '</td><td>'
										+ item.speed + '</td><td>'
										+ item.totalFiles + '</td><td>'
										+ item.date + '</td></tr>');
					});
				  }
				  
				}
			});
		}
		function refreshSend() {
		$.ajax({
			type : 'get',
			url : '/transfer/rest/remotefile/getAllSendEntity',
			data : {},
			dataType : 'JSON',
			success : function(result) {
			$('#tb2').empty();
			if(result == "" || result == null){
				alert("there is no data in the table sendEntity!");
			}
			else{
				var dataObj = eval("(" + result + ")");
				dataObj=dataObj['sendEntity'];
				$.each(dataObj, function(ii, item) {
					$('#tb2').append(
							'<tr><td>' + item.id + '</td><td>'
									+ item.ip + '</td><td>'
									+ item.port + '</td><td>'
									+ item.send + '</td><td>'
									+ item.failed + '</td><td>' 
									+ item.savedFolder + '</td><td>'
									+ item.speed + '</td><td>'
									+ item.totalFiles + '</td><td>'
									+ item.date + '</td></tr>');
				});
			  }
			  
			}
		});
	}
			
</script>

</head>

<body>
	<div>
		<table id="dataList">
			<tr class="header">
				<td colspan="9">receive</td>
			</tr>
			<tr class="header2">
				<td colspan="9">&nbsp;</td>
			</tr>
			<tr>
				<td>ID</td>
				<td>IP</td>
				<td>Port</td>
				<td>Received</td>
				<td>Failed</td>
				<td>SavedFolder</td>
				<td>Speed</td>
				<td>TotalFiles</td>
				<td>Date</td>
			</tr>
			<tbody id="tb1">
			</tbody>

		</table>

		<br></br> <br></br>

		<table id="dataList">
			<tr class="header">
				<td colspan="9">send</td>
			</tr>
			<tr class="header2">
				<td colspan="9">&nbsp;</td>
			</tr>
			<tr>
				<td>ID</td>
				<td>IP</td>
				<td>Port</td>
				<td>Send</td>
				<td>Failed</td>
				<td>SavedFolder</td>
				<td>Speed</td>
				<td>TotalFiles</td>
				<td>Date</td>
			</tr>
			<tbody id="tb2">
			</tbody>
		</table>
	</div>
</body>
</html>
